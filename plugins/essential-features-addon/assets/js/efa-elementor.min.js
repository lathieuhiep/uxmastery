(n=>{function e(e,o){(e=e.find(".fly-up-title")).length&&e.each(function(){var a=o(this),t=a.data("text");if(t){a.html("");for(let e=0;e<t.length;e++){var n=t[e],n=o("<span>").text(" "===n?" ":n);a.append(n)}a.find("span").each(function(e){let a=o(this);var t=10*Math.sin(e/2);setTimeout(function(){a.addClass("visible")},30*e+t)})}})}function a(e,a){var t;(e=e.find(".custom-owl-carousel")).length&&(t=e.data("settings-owl"),e.owlCarousel(n.extend({loop:!0,smartSpeed:800,autoplaySpeed:800,navSpeed:800,dotsSpeed:800,dragEndSpeed:800,navText:['<i class="efa-icon-mask efa-icon-mask-arrow-left"></i>','<i class="efa-icon-mask efa-icon-mask-arrow-right"></i>']},t)))}function t(e,a){(e=e.find(".counting")).length&&e.counterUp({delay:10,time:1e3})}let o=(e,f)=>{e=e.find(".btn-load-more");if(e.length){let l=2;e.on("click",function(){let o=f(this);var e=o.hasClass("active-loading");if(!e){e=o.closest(".efa-addon-post-grid");let t=e.find(".efa-addon-dual-post");e=e.data("settings");let n=parseInt(e.posts_per_page);var a=e.order_by,d=e.order,i=e.cat,r=e.image_size,s=e.show_excerpt,e=e.excerpt_length;f.ajax({url:btnEfaLoadMore.ajaxurl,type:"POST",data:{action:"efa_load_more_dual_posts",paged:l,posts_per_page:n,order_by:a,order:d,cat:i,image_size:r,show_excerpt:s,excerpt_length:e,nonce:btnEfaLoadMore.nonce},beforeSend:function(){o.addClass("active-loading")},success:function(e){var a;!e.success||((a=f(e.data.html)).filter(".item").add(a.find(".item")).addClass("efa-zoom-in"),t.append(a),e.data.posts_loaded<n)?o.remove():(l++,o.removeClass("active-loading"))}})}})}},d=(e,c)=>{e=e.find(".efa-addon-tab-posts");if(e.length){let o=e.find(".cat-link-open");var a=e.find(".tab-nav");let d=e.find(".tab-item"),i=a.data("limit")||6,r=a.data("order-by")||"date",s=a.data("order")||"DESC",l=a.data("image-size")||"medium",f=e.find(".tab-content");d.on("click","a",function(e){e.preventDefault();var e=c(this).closest(".tab-item"),a=parseInt(e.data("cat"));let t=f.find(`.pane-warp[data-cat="${a}"]`);var n=e.data("url-cat");t.length&&!0!==t.data("loaded")&&(t.html('<p class="loading">Đang tải...</p>'),c.ajax({url:btnEfaLoadMore.ajaxurl,method:"POST",data:{action:"efa_load_tab_posts",cat_id:a,limit:i,order_by:r,order:s,image_size:l,nonce:btnEfaLoadMore.nonce},success:function(e){e.success?((e=c(e.data.html)).filter(".post-item").add(e.find(".post-item")).addClass("efa-zoom-in"),t.append(e),t.data("loaded",!0)):t.html('<p class="error">Không thể tải nội dung.</p>')},error:function(){t.html('<p class="error">Lỗi kết nối server.</p>')},complete:function(){t.find(".loading").remove()}})),d.removeClass("active"),e.addClass("active"),f.find(".pane-warp").removeClass("active"),t.addClass("active").find(".post-item").removeClass("efa-zoom-in"),n&&o.attr("href",n)})}};n(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/efa-hero.default",e),elementorFrontend.hooks.addAction("frontend/element_ready/efa-slides.default",a),elementorFrontend.hooks.addAction("frontend/element_ready/efa-post-carousel.default",a),elementorFrontend.hooks.addAction("frontend/element_ready/efa-testimonial-slider.default",a),elementorFrontend.hooks.addAction("frontend/element_ready/efa-carousel-images.default",a),elementorFrontend.hooks.addAction("frontend/element_ready/efa-service-card.default",t),elementorFrontend.hooks.addAction("frontend/element_ready/efa-dual-post-block.default",o),elementorFrontend.hooks.addAction("frontend/element_ready/efa-tab-posts.default",d)})})(jQuery);